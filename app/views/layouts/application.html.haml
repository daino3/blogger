%head
  %title
    - if content_for?(:title)
      = yield(:title) + " | Dainger.us - Dain Hall's Blog"
    - else
      = "Dainger.us - Dain Hall's Blog"


  %meta{ charset: "utf-8"}
  %meta{ name: "viewport",    content: "width=device-width, initial-scale=1.0"}
  %meta{ name: "description", content: yield_meta_tag(:description, "Dain Hall's blog on software, life, and random thoughts") }
  %meta{ name: "keywords",    content: yield_meta_tag(:keywords, "DainHall,Blog,Software,Life,Work,Play") }
  = stylesheet_link_tag    "application"
  = javascript_include_tag "application"
  = csrf_meta_tags

  :javascript
    (function(i,s,o,g,r,a,m){
      i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();
        a=s.createElement(o), m=s.getElementsByTagName(o)[0];a.async=1;
        a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-46222711-1', 'auto');
    ga('send', 'pageview');

%body
  - if request.path == root_path
    = render partial: "layouts/home_header"
  - else
    = render partial: "layouts/header"
  = yield
  :javascript
    /* * * CONFIGURATION VARIABLES * * */
    var disqus_shortname = 'dainjar';

    /* * * DON'T EDIT BELOW THIS LINE * * */
    // comment count
    (function () {
       var s = document.createElement('script'); s.async = true;
       s.type = 'text/javascript';
       s.src = '//' + disqus_shortname + '.disqus.com/count.js';
       (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
%footer
  = render partial: "layouts/footer"
